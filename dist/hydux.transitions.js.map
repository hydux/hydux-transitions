{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///hydux.transitions.js","webpack:///webpack/bootstrap 86290c876abff7dad860","webpack:///./node_modules/hydux/src/cmd.ts","webpack:///./node_modules/hydux/src/utils.ts","webpack:///./src/index.ts","webpack:///./node_modules/hydux/src/index.ts","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/hydux/src/helpers.ts"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","ofFn","task","args","succeedAction","failedAction","__WEBPACK_IMPORTED_MODULE_0__utils__","fn","result","_","e","console","error","ofPromise","then","res","catch","none","ofSub","sub","_concat","Array","concat","batch","cmds","_i","arguments","length","apply","map","cmd","actions","Cmd","set","to","from","keys","key","merge","isPojo","constructor","clone","setDeep","path","value","slice","len","isFn","data","noop","isSet","val","obj","f","parseTransform","t","transform","test","isNum","isArray","Units","px","join","parseTransition","duration","delay","easing","removeTransition","style","nextStyle","__assign","frameToStyle","frame","_a","transition","transitionProperty","needPrefix","transformOrigin","transformStyle","runFrames","frames","state","onEnd","_end","requestAnimationFrame","_startFrame","endTimer","setTimeout","_endFrame","timers","push","assign","hydux_1","deg","grad","rad","turn","percent","TypeError","rem","pt","em","ms","cubicBezier","ax","ay","bx","by","start","offset","matrix","a","b","tx","ty","matrix3d","x","y","z","v","document","body","webkitTransform","className","onStart","animState","AnimState","end","init","_initArgs","run","reset","forEach","timer","clearTimeout","lastFrame","options","ready","initFrame","default","runAction","parentState","parentActions","rst","__WEBPACK_IMPORTED_MODULE_2__utils__","undefined","__WEBPACK_IMPORTED_MODULE_1__cmd__","withParents","action","wrapper","app","props","appRender","appState","view","appActions","render","subFrom","msgData","nextState","nextAppState","_b","actionResult","pPath","_c","onUpdate","prevAppState","appSubscribe","subscribe","onRender","__WEBPACK_IMPORTED_MODULE_0_tslib__","wrapActions","__WEBPACK_IMPORTED_MODULE_3__helpers__","setPrototypeOf","dt","tag","compose","fns","arg","reduce","never","mkInit","__WEBPACK_IMPORTED_MODULE_0__cmd__"],"mappings":"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","file":"hydux.transitions.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"transitions\"] = factory();\n\telse\n\t\troot[\"hydux\"] = root[\"hydux\"] || {}, root[\"hydux\"][\"transitions\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"transitions\"] = factory();\n\telse\n\t\troot[\"hydux\"] = root[\"hydux\"] || {}, root[\"hydux\"][\"transitions\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ofFn */\n/* unused harmony export ofPromise */\n/* unused harmony export ofSub */\n/* unused harmony export batch */\n/* unused harmony export map */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return none; });\n/* unused harmony export Cmd */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(1);\n\nfunction ofFn(task, args, succeedAction, failedAction) {\n    if (!task) {\n        return [];\n    }\n    if (Object(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* isFn */])(args)) {\n        failedAction = succeedAction;\n        succeedAction = args;\n        args = void 0;\n    }\n    var fn = function () {\n        var result = task(args);\n        if (succeedAction) {\n            succeedAction(result);\n        }\n        return result;\n    };\n    return [\n        function (_) {\n            if (failedAction) {\n                try {\n                    return fn();\n                }\n                catch (e) {\n                    console.error(e);\n                    failedAction(e);\n                }\n            }\n            else {\n                return fn();\n            }\n        }\n    ];\n}\nfunction ofPromise(task, args, succeedAction, failedAction) {\n    if (!task) {\n        return [];\n    }\n    if (Object(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* isFn */])(args)) {\n        failedAction = succeedAction;\n        succeedAction = args;\n        args = void 0;\n    }\n    return [\n        function (_) {\n            return task(args)\n                .then(function (res) {\n                try {\n                    succeedAction && succeedAction(res);\n                }\n                catch (error) {\n                    console.error(error);\n                }\n            })\n                .catch(failedAction);\n        }\n    ];\n}\n/**\n * Create a command from a sub function, you can access all same level actions in a `sub`.\n * @param sub\n */\nvar ofSub = function (sub) { return [sub]; };\nvar _concat = Array.prototype.concat;\n/**\n * Batch multi commands to one command\n * @param cmds\n */\nvar batch = function () {\n    var cmds = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        cmds[_i] = arguments[_i];\n    }\n    return _concat.apply([], _concat.apply([], cmds));\n};\n/**\n * Map a command to a low level command\n * @param map\n * @param cmd\n */\nvar map = function (map, cmd) {\n    return cmd.map(function (sub) { return function (actions) { return sub(map(actions)); }; });\n};\n/**\n * Empty command\n */\nvar none = [];\nvar Cmd = {\n    none: none,\n    ofFn: ofFn,\n    ofPromise: ofPromise,\n    ofSub: ofSub,\n    batch: batch,\n    map: map,\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Cmd);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return isPojo; });\n/* unused harmony export set */\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = merge;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = clone;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = setDeep;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = get;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = isFn;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return noop; });\nvar isSet = function (val) { return typeof val !== 'undefined' && val !== null; };\nvar isPojo = function (obj) { return !isSet(obj.constructor) || obj.constructor === Object; };\nfunction set(to, from) {\n    var keys = Object.keys(from);\n    var i = keys.length;\n    while (i--) {\n        var key = keys[i];\n        to[key] = from[key];\n    }\n    return to;\n}\nfunction merge(to, from) {\n    return set(set(isPojo(to) ? {} : new to.constructor(), to), from);\n}\nfunction clone(from) {\n    return set(isPojo(from) ? {} : new from.constructor(), from);\n}\nfunction setDeep(path, value, from) {\n    var to = isPojo(from) ? {} : new from.constructor();\n    return 0 === path.length\n        ? value\n        : ((to[path[0]] =\n            1 < path.length\n                ? setDeep(path.slice(1), value, from[path[0]])\n                : value),\n            merge(from, to));\n}\nfunction get(path, from) {\n    var len = path.length;\n    for (var i = 0; i < len; i++) {\n        from = from[path[i]];\n    }\n    return from;\n}\nfunction isFn(data) {\n    return 'function' === typeof data;\n}\nvar noop = function (f) { return f; };\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar hydux_1 = __webpack_require__(3);\r\nexports.Units = {\r\n    deg: function (n) { return n + 'deg'; },\r\n    grad: function (n) { return n + 'grad'; },\r\n    rad: function (n) { return n + 'rag'; },\r\n    turn: function (n) { return n + 'turn'; },\r\n    px: function (n) { return n + 'px'; },\r\n    percent: function (n) {\r\n        if (n < -100 || n > 100)\r\n            throw TypeError('n should >= -100 and <= 100, but get:' + n);\r\n        return n + '%';\r\n    },\r\n    rem: function (n) { return n + 'rem'; },\r\n    pt: function (n) { return n + 'pt'; },\r\n    em: function (n) { return n + 'em'; },\r\n    ms: function (n) { return n; },\r\n    cubicBezier: function (ax, ay, bx, by) { return \"cubic-bezier(\" + ax + \", \" + ay + \", \" + bx + \", \" + by + \")\"; },\r\n    start: function (n) { return ({ start: n }); },\r\n    offset: function (n) { return ({ offset: n }); },\r\n    matrix: function (a, b, c, d, tx, ty) { return \"matrix(\" + a + \", \" + b + \", \" + c + \", \" + d + \", \" + tx + \", \" + ty + \")\"; },\r\n    matrix3d: function (a, b, c, d, e, f, x, y, z) { return \"matrix(\" + a + \", \" + b + \", \" + c + \", \" + d + \", \" + e + \", \" + f + \" \" + x + \", \" + y + \", \" + z + \")\"; },\r\n};\r\nvar isSet = function (v) { return typeof v !== 'undefined'; };\r\nvar isNum = function (v) { return typeof v === 'number'; };\r\nvar isArray = function (v) { return v instanceof Array; };\r\nfunction parseTransform(t) {\r\n    if (t.transform) {\r\n        return t.transform;\r\n    }\r\n    var keys = Object.keys(t);\r\n    var i = keys.length;\r\n    var transform = '';\r\n    while (i--) {\r\n        var key = keys[i];\r\n        if (!/^translate|scale|rotate|skew|perspective|matrix/.test(key)) {\r\n            continue;\r\n        }\r\n        var val = t[key];\r\n        if (!/^scale/.test(key)) {\r\n            if (isNum(val)) {\r\n                val = val + 'px';\r\n            }\r\n            else if (isArray(val) && isNum(val[0])) {\r\n                val = val.map(exports.Units.px);\r\n            }\r\n        }\r\n        val = val instanceof Array ? val.join(', ') : val;\r\n        transform += key + \"(\" + val + \") \";\r\n    }\r\n    return transform;\r\n}\r\nfunction parseTransition(t) {\r\n    var duration = (t.duration || 0) / 1000;\r\n    var delay = (t.delay || 0) / 1000;\r\n    return [duration + \"s \" + (t.easing || 'ease-in-out') + \" \" + delay + \"s\", t.property || 'transform,opacity'];\r\n}\r\nfunction removeTransition(style) {\r\n    var nextStyle = __assign({}, style);\r\n    delete nextStyle['WebkitTransition'];\r\n    delete nextStyle['transition'];\r\n    return nextStyle;\r\n}\r\nvar needPrefix = isSet(document.body.style.webkitTransform);\r\nfunction frameToStyle(frame) {\r\n    var style = frame.style || {};\r\n    var _a = parseTransition(frame), transition = _a[0], transitionProperty = _a[1];\r\n    var transform = parseTransform(frame);\r\n    if (needPrefix) {\r\n        style['WebkitTransition'] = transition;\r\n        style['WebkitTransitionProperty'] = transitionProperty;\r\n        style['WebkitTransform'] = transform;\r\n        style['WebkitTransformOrigin'] = frame.transformOrigin;\r\n        style['WebkitTransformStyle'] = frame.transformStyle;\r\n    }\r\n    else {\r\n        style['transitionProperty'] = transitionProperty;\r\n        style['transition'] = transition;\r\n        style['transform'] = transform;\r\n        style['transform-origin'] = frame.transformOrigin;\r\n        style['transform-style'] = frame.transformStyle;\r\n    }\r\n    return style;\r\n}\r\nfunction isFn(fn) {\r\n    return typeof fn === 'function';\r\n}\r\nfunction runFrames(frames, state, actions, onEnd, i) {\r\n    if (i === void 0) { i = 0; }\r\n    if (i >= frames.length) {\r\n        actions._end();\r\n        return isFn(onEnd) && onEnd(frames);\r\n    }\r\n    var frame = frames[i];\r\n    requestAnimationFrame(function () {\r\n        actions._startFrame(frame);\r\n        var endTimer = setTimeout(function () {\r\n            requestAnimationFrame(function () {\r\n                actions._endFrame(frame);\r\n            });\r\n            runFrames(frames, state, actions, onEnd, ++i);\r\n        }, frame.duration || 1);\r\n        // is it worth to use anti-pattern to reduce vdom render ?\r\n        state.timers.push(endTimer);\r\n    });\r\n    // state.timers.push(startTimer as any)\r\n}\r\nexports.actions = {\r\n    _startFrame: function (frame) { return function (state) {\r\n        var nextState = __assign({}, state, { style: frameToStyle(frame), className: frame.className || '' });\r\n        return [\r\n            nextState,\r\n            frame.onStart\r\n                ? hydux_1.Cmd.ofFn(frame.onStart, frame)\r\n                : hydux_1.Cmd.none\r\n        ];\r\n    }; },\r\n    _endFrame: function (frame) { return function (state) {\r\n        return [\r\n            state,\r\n            frame.onEnd\r\n                ? hydux_1.Cmd.ofFn(frame.onEnd, frame)\r\n                : []\r\n        ];\r\n    }; },\r\n    _end: function () { return function (state) { return (__assign({}, state, { animState: AnimState.end })); }; },\r\n    start: function (onEnd) { return function (state) {\r\n        return [\r\n            exports.init.apply(null, state._initArgs),\r\n            hydux_1.Cmd.ofSub(function (actions) {\r\n                requestAnimationFrame(function () {\r\n                    return runFrames(state.frames, state, actions, onEnd);\r\n                });\r\n            }),\r\n        ];\r\n    }; },\r\n    run: function (frames) { return function (state) {\r\n        var nextState = __assign({}, state, { frames: frames });\r\n        return [state, hydux_1.Cmd.ofSub(function (actions) {\r\n                actions.start();\r\n            })];\r\n    }; },\r\n    reset: function () { return function (state) {\r\n        return [\r\n            exports.init.apply(null, state._initArgs),\r\n            hydux_1.Cmd.ofFn(function () { return state.timers.forEach(function (timer) { return clearTimeout(timer); }); }, void 0),\r\n        ];\r\n    }; },\r\n    end: function () { return function (state) {\r\n        if (state.frames.length === 0)\r\n            return;\r\n        var lastFrame = state.frames[state.frames.length - 1];\r\n        return [\r\n            __assign({}, state, { animState: AnimState.end, style: removeTransition(frameToStyle(lastFrame)), timers: [], className: lastFrame.className || '' }),\r\n            hydux_1.Cmd.ofFn(function () { return state.timers.forEach(function (timer) { return (clearTimeout(timer)); }); }, void 0),\r\n        ];\r\n    }; }\r\n};\r\nfunction isPeople(obj) {\r\n    var obj2 = obj;\r\n    if (typeof obj2.name === 'function' && typeof obj2.age === 'number') {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nvar AnimState;\r\n(function (AnimState) {\r\n    AnimState[AnimState[\"running\"] = 1] = \"running\";\r\n    AnimState[AnimState[\"end\"] = 2] = \"end\";\r\n    AnimState[AnimState[\"ready\"] = 3] = \"ready\";\r\n})(AnimState = exports.AnimState || (exports.AnimState = {}));\r\nexports.init = function (frames, options) {\r\n    if (frames === void 0) { frames = []; }\r\n    if (options === void 0) { options = {}; }\r\n    return ({\r\n        animState: AnimState.ready,\r\n        style: options.initFrame ? frameToStyle(options.initFrame) : {},\r\n        className: '',\r\n        timers: [],\r\n        frames: frames,\r\n        _initArgs: [frames, options]\r\n    });\r\n};\r\nexports.default = {\r\n    init: exports.init,\r\n    actions: exports.actions,\r\n    Units: exports.Units,\r\n};\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"runAction\"] = runAction;\n/* harmony export (immutable) */ __webpack_exports__[\"withParents\"] = withParents;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"wrapActions\", function() { return wrapActions; });\n/* harmony export (immutable) */ __webpack_exports__[\"app\"] = app;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cmd__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers__ = __webpack_require__(5);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"dt\", function() { return __WEBPACK_IMPORTED_MODULE_3__helpers__[\"b\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"never\", function() { return __WEBPACK_IMPORTED_MODULE_3__helpers__[\"d\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"mkInit\", function() { return __WEBPACK_IMPORTED_MODULE_3__helpers__[\"c\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return __WEBPACK_IMPORTED_MODULE_3__helpers__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Cmd\", function() { return __WEBPACK_IMPORTED_MODULE_1__cmd__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"noop\", function() { return __WEBPACK_IMPORTED_MODULE_2__utils__[\"f\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isFn\", function() { return __WEBPACK_IMPORTED_MODULE_2__utils__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isPojo\", function() { return __WEBPACK_IMPORTED_MODULE_2__utils__[\"d\"]; });\n\n\n\n\n\n/**\n * run action and return a normalized result ([State, CmdType<>]),\n * this is useful to write High-Order-Action, which take an action and return a wrapped action.\n * @param result result of `action(msg: Data)`\n * @param state\n * @param actions\n */\nfunction runAction(result, state, actions, parentState, parentActions) {\n    var rst = result;\n    Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"c\" /* isFn */])(rst)\n        && (rst = rst(state, actions, parentState, parentActions))\n        && Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"c\" /* isFn */])(rst)\n        && (rst = rst(actions));\n    // action can be a function that return a promise or undefined(callback)\n    if (rst === undefined ||\n        (rst.then && Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"c\" /* isFn */])(rst.then))) {\n        return [state, __WEBPACK_IMPORTED_MODULE_1__cmd__[\"a\" /* default */].none];\n    }\n    if (rst instanceof Array) {\n        return [rst[0] || state, rst[1] || __WEBPACK_IMPORTED_MODULE_1__cmd__[\"a\" /* default */].none];\n    }\n    return [rst, __WEBPACK_IMPORTED_MODULE_1__cmd__[\"a\" /* default */].none];\n}\n/**\n * Wrap a child action with parentState, parentActions.\n * @param action The action to be wrapped\n * @param wrapper\n * @param parentState\n * @param parentActions\n */\nfunction withParents(action, wrapper, parentState, parentActions) {\n    if (!wrapper) {\n        return action;\n    }\n    var wrapped = function (state, actions, parentState, parentActions) {\n        var nactions = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return runAction(action.apply(void 0, args), state, actions);\n        };\n        return wrapper(nactions, parentState, parentActions, state, actions);\n    };\n    return wrapped;\n}\n/**\n * @deprecated Deprecated for `withParents`\n */\nvar wrapActions = withParents;\nfunction app(props) {\n    // const appEvents = props.events || {}\n    var appActions = {};\n    var appSubscribe = props.subscribe || (function (_) { return __WEBPACK_IMPORTED_MODULE_1__cmd__[\"a\" /* default */].none; });\n    var render = props.onRender || __WEBPACK_IMPORTED_MODULE_2__utils__[\"f\" /* noop */];\n    // const appMiddlewares = props.middlewares || []\n    var _a = runAction(props.init(), void 0, appActions), appState = _a[0], cmd = _a[1];\n    init(appState, appActions, props.actions, []);\n    cmd.forEach(function (sub) { return sub(appActions); });\n    appRender(appState);\n    appSubscribe(appState).forEach(function (sub) { return sub(appActions); });\n    return __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __assign */]({ \n        // getter should before spread operator,\n        // otherwise it would be copied and becomes normal property\n        get state() {\n            return appState;\n        } }, props, { actions: appActions, render: appRender });\n    function appRender(state) {\n        if (state === void 0) { state = appState; }\n        if (state !== appState) {\n            appState = state;\n        }\n        var view = props.view(appState, appActions);\n        if (Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"c\" /* isFn */])(view)) {\n            view = view(appActions);\n        }\n        return render(view);\n    }\n    function init(state, actions, from, path) {\n        var _loop_1 = function (key) {\n            if (/^_/.test(key)) {\n                return \"continue\";\n            }\n            var subFrom = from[key];\n            if (Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"c\" /* isFn */])(subFrom)) {\n                actions[key] = function () {\n                    var msgData = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        msgData[_i] = arguments[_i];\n                    }\n                    state = Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"b\" /* get */])(path, appState);\n                    // action = appMiddlewares.reduce((action, fn) => fn(action, key, path), action)\n                    var _a = [state, appState], nextState = _a[0], nextAppState = _a[1];\n                    var cmd = __WEBPACK_IMPORTED_MODULE_1__cmd__[\"a\" /* default */].none;\n                    var _b = [undefined, undefined], parentState = _b[0], parentActions = _b[1];\n                    var actionResult = subFrom.apply(void 0, msgData);\n                    if (Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"c\" /* isFn */])(actionResult) && actionResult.length > 2) {\n                        var pPath = path.slice(0, -1);\n                        parentActions = Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"b\" /* get */])(pPath, appActions);\n                        parentState = Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"b\" /* get */])(pPath, appState);\n                    }\n                    _c = runAction(actionResult, state, actions, parentState, parentActions), nextState = _c[0], cmd = _c[1];\n                    if (props.onUpdate) {\n                        nextAppState = Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"g\" /* setDeep */])(path, Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"e\" /* merge */])(state, nextState), appState);\n                        props.onUpdate({\n                            prevAppState: appState,\n                            nextAppState: nextAppState,\n                            msgData: subFrom.length ? msgData : [],\n                            action: path.concat(key).join('.'),\n                        });\n                    }\n                    if (nextState !== state) {\n                        appState =\n                            nextAppState !== appState\n                                ? nextAppState\n                                : Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"g\" /* setDeep */])(path, Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"e\" /* merge */])(state, nextState), appState);\n                        appRender(appState);\n                    }\n                    cmd.forEach(function (sub) { return sub(actions); });\n                    var _c;\n                };\n            }\n            else if (typeof subFrom === 'object' && subFrom) {\n                init(state[key] || (state[key] = {}), (actions[key] = Object(__WEBPACK_IMPORTED_MODULE_2__utils__[\"a\" /* clone */])(subFrom)), subFrom, path.concat(key));\n            }\n        };\n        for (var key in from) {\n            _loop_1(key);\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (app);\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export __extends */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __assign; });\n/* unused harmony export __rest */\n/* unused harmony export __decorate */\n/* unused harmony export __param */\n/* unused harmony export __metadata */\n/* unused harmony export __awaiter */\n/* unused harmony export __generator */\n/* unused harmony export __exportStar */\n/* unused harmony export __values */\n/* unused harmony export __read */\n/* unused harmony export __spread */\n/* unused harmony export __await */\n/* unused harmony export __asyncGenerator */\n/* unused harmony export __asyncDelegator */\n/* unused harmony export __asyncValues */\n/* unused harmony export __makeTemplateObject */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = dt;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return never; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return mkInit; });\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = compose;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cmd__ = __webpack_require__(0);\n\n/**\n * ADT Helper for TS\n * e.g.\n * ```ts\n * type Msg =\n * | Dt<'fetchBook', number>\n * | Dt<'updateBook', Book>\n *\n * let msg = dt('fetchBook', 1)\n * switch(msg.tag) {\n *   case 'fetchBook':\n *      //...\n *      break\n *   case 'updateBook':\n *      //...\n *      break\n *   default:\n *      never(msg.tag) // incomplete check from TS\n *      break\n * }\n * ```\n */\nfunction dt(tag, data) {\n    return { tag: tag, data: data };\n}\nvar never = function (f) { return f; };\nvar mkInit = function (state, cmd) {\n    if (cmd === void 0) { cmd = __WEBPACK_IMPORTED_MODULE_0__cmd__[\"b\" /* none */]; }\n    return function () { return [state, cmd]; };\n};\nfunction compose() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return function (arg) {\n        return fns.reduce(function (arg, fn) { return fn(arg); }, arg);\n    };\n}\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// hydux.transitions.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 86290c876abff7dad860","import { ActionResult, ActionType, ActionsType } from './types'\nimport { isFn } from './utils'\nexport interface Sub<Actions> {\n  (actions: Actions): any\n}\nexport type CmdType<Actions> = Sub<Actions>[]\n/**\n * Create command from a function has side effects.\n * @param task A function has one or zero paramter.\n * @param args Optional, the parameter of the funciton\n * @param succeedAction An action that would executed after the function executed.\n * @param failedAction An action that would executed after the function throw an error.\n */\nexport function ofFn<A, T, State, Actions>(\n  task: (args: A) => T,\n  args: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofFn<A, T, State, Actions>(\n  task?: () => T,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofFn<A, T, State, Actions>(\n  task?: (args?: A) => T,\n  args?: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions> {\n  if (!task) {\n    return [] as CmdType<Actions>\n  }\n  if (isFn(args)) {\n    failedAction = succeedAction as any\n    succeedAction = args as any\n    args = void 0\n  }\n  const fn = () => {\n    const result = task(args)\n    if (succeedAction) {\n      succeedAction(result)\n    }\n    return result\n  }\n  return [\n    _ => {\n      if (failedAction) {\n        try {\n          return fn()\n        } catch (e) {\n          console.error(e)\n          failedAction(e)\n        }\n      } else { // don't wrap in try cache, get better DX in `Pause on exceptions`\n        return fn()\n      }\n    }\n  ]\n}\n/**\n * Create a command from promise\n * @param task A function that take one or zero parameter and return a promise.\n * @param args Optional, the paramter of task\n * @param succeedAction An action would execute when the promise fulfilled.\n * @param failedAction An action would execute when the promise rejected.\n */\nexport function ofPromise<A, T, State, Actions>(\n  task: (arg: A) => Promise<T>,\n  args: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofPromise<A, T, State, Actions>(\n  task: () => Promise<T>,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions>\n\nexport function ofPromise<A, T, State, Actions>(\n  task: (args?: A) => Promise<T>,\n  args?: A,\n  succeedAction?: ActionType<T, State, Actions>,\n  failedAction?: ActionType<Error, State, Actions>\n): CmdType<Actions> {\n  if (!task) {\n    return [] as CmdType<Actions>\n  }\n  if (isFn(args)) {\n    failedAction = succeedAction as any\n    succeedAction = args as any\n    args = void 0\n  }\n  return [\n    _ =>\n      task(args)\n        .then(res => {\n          try {\n            succeedAction && succeedAction(res)\n          } catch (error) {\n            console.error(error)\n          }\n        })\n        .catch(failedAction)\n  ]\n}\n/**\n * Create a command from a sub function, you can access all same level actions in a `sub`.\n * @param sub\n */\nexport const ofSub = <Actions>(sub: Sub<Actions>): CmdType<Actions> => [sub]\nconst _concat = Array.prototype.concat\n/**\n * Batch multi commands to one command\n * @param cmds\n */\nexport const batch = <Actions>(\n  ...cmds: (CmdType<Actions> | CmdType<Actions>[])[]\n): CmdType<Actions> =>\n  _concat.apply([], _concat.apply([], cmds))\n/**\n * Map a command to a low level command\n * @param map\n * @param cmd\n */\nexport const map = <Actions, SubActions>(\n  map: (action: Actions) => SubActions, cmd: CmdType<SubActions>\n): CmdType<Actions> =>\n  cmd.map(sub => actions => sub(map(actions)))\n/**\n * Empty command\n */\nexport const none = ([] as Array<Sub<any>>)\n\nexport const Cmd = {\n  none,\n  ofFn,\n  ofPromise,\n  ofSub,\n  batch,\n  map,\n}\n\nexport default Cmd\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/hydux/src/cmd.ts","\nconst isSet = val => typeof val !== 'undefined' && val !== null\nexport const isPojo = obj => !isSet(obj.constructor) || obj.constructor === Object\n\nexport function set(to, from) {\n  const keys = Object.keys(from)\n  let i = keys.length\n  while (i--) {\n    const key = keys[i]\n    to[key] = from[key]\n  }\n  return to\n}\n\nexport function merge(to, from) {\n  return set(set(isPojo(to) ? {} : new to.constructor(), to), from)\n}\n\nexport function clone(from) {\n  return set(isPojo(from) ? {} : new from.constructor(), from)\n}\n\nexport function setDeep(path: string[], value, from) {\n  const to = isPojo(from) ? {} : new from.constructor()\n  return 0 === path.length\n    ? value\n    : ((to[path[0]] =\n        1 < path.length\n          ? setDeep(path.slice(1), value, from[path[0]])\n          : value),\n      merge(from, to))\n}\n\nexport function get(path: string[], from: any) {\n  let len = path.length\n  for (let i = 0; i < len; i++) {\n    from = from[path[i]]\n  }\n  return from\n}\n\nexport function isFn(data): data is Function {\n  return 'function' === typeof data\n}\n\nexport const noop = f => f\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/hydux/src/utils.ts","import { Cmd, Sub } from 'hydux'\nexport { Sub }\nexport type ValueOf2d<T> = T | [T, T]\nexport type ValueOf3d<T> = ValueOf2d<T> | [T, T, T]\n\nexport type CssAngle = string & { _tag: 'Angle' }\nexport type CssPx = string & { _tag: 'CssPx' }\nexport type CssRem = string & { _tag: 'CssRem' }\nexport type CssEm = string & { _tag: 'CssEm' }\nexport type CssPt = string & { _tag: 'CssPt' }\nexport type CssMs = number & { _tag: 'DurtionMs' }\nexport type CssLenWithUnit = CssPx | CssRem | CssEm | CssPt\nexport type CssPercent = string & { _tag: 'CssPercent' }\nexport type CssLength = number | CssLenWithUnit | CssPercent\nexport type CssCubicBezier = string & { _tag: 'CssCubicBezier' }\nexport type StartTime = ({start: number} | {offset: number}) & { _tag: 'HyduxTransitionOffset' }\nexport type CssMatrix = string & { _tag: 'CssMatrix' }\nexport type CssMatrix3d = string & { _tag: 'CssMatrix3d' }\n\nexport const Units = {\n  deg: (n: number) => n + 'deg' as CssAngle,\n  grad: (n: number) => n + 'grad' as CssAngle,\n  rad: (n: number) => n + 'rag' as CssAngle,\n  turn: (n: number) => n + 'turn' as CssAngle,\n  px: (n: number) => n + 'px' as CssPx,\n  percent: (n: number) => {\n    if (n < -100 || n > 100) throw TypeError('n should >= -100 and <= 100, but get:' + n)\n    return n + '%' as CssPercent\n  },\n  rem: (n: number) => n + 'rem' as CssRem,\n  pt: (n: number) => n + 'pt' as CssPt,\n  em: (n: number) => n + 'em' as CssEm,\n  ms: (n: number) => n as CssMs,\n  cubicBezier: (ax: number, ay: number, bx: number, by: number) => `cubic-bezier(${ax}, ${ay}, ${bx}, ${by})` as CssCubicBezier,\n  start: (n: number) => ({ start: n }) as StartTime,\n  offset: (n: number) => ({ offset: n }) as StartTime,\n  matrix: (a: number, b: number, c: number, d: number, tx: number, ty: number) => `matrix(${a}, ${b}, ${c}, ${d}, ${tx}, ${ty})` as CssMatrix,\n  matrix3d: (a: number, b: number, c: number, d: number, e: number, f: number, x: number, y: number, z: number) => `matrix(${a}, ${b}, ${c}, ${d}, ${e}, ${f} ${x}, ${y}, ${z})` as CssMatrix3d,\n}\n\nexport interface Transform {\n  transform?: string\n  translateX?: CssLength\n  translateY?: CssLength\n  translateZ?: CssLength\n  translate?: ValueOf2d<CssLength>\n  translate3d?: ValueOf3d<CssLength>\n  scaleX?: number\n  scaleY?: number\n  scaleZ?: number\n  scale?: ValueOf2d<number>\n  scale3d?: ValueOf3d<number>\n  rotateX?: CssAngle\n  rotateY?: CssAngle\n  rotateZ?: CssAngle\n  rotate?: ValueOf2d<CssAngle>\n  rotate3d?: ValueOf3d<CssAngle>\n  skewX?: CssAngle\n  skewY?: CssAngle\n  skew?: ValueOf2d<CssAngle>\n  perspective?: CssLength,\n  matrix?: CssMatrix,\n  matrix3d?: CssMatrix3d,\n}\n\nexport interface Frame extends Transform {\n  transformOrigin?: string\n  transformStyle?: string\n  style?: object,\n  delay?: CssMs\n  duration?: CssMs\n  property?: 'all' | 'transition' | 'opacity'\n  easing?: 'ease' | 'ease-in' | 'ease-out' | 'ease-in-out' | 'step-start' | 'step-end' | CssCubicBezier\n  className?: string\n  attrs?: {[key: string]: string}\n  opacity?: number\n  onStart?: (frame: Frame) => any\n  onEnd?: (frame: Frame) => any\n}\nconst isSet = v => typeof v !== 'undefined'\nconst isNum = v => typeof v === 'number'\nconst isArray = v => v instanceof Array\n\nfunction parseTransform(t: Transform) {\n  if (t.transform) {\n    return t.transform\n  }\n  const keys = Object.keys(t)\n  let i = keys.length\n  let transform = ''\n  while (i--) {\n    const key = keys[i]\n    if (!/^translate|scale|rotate|skew|perspective|matrix/.test(key)) {\n      continue\n    }\n    let val = t[key]\n    if (!/^scale/.test(key)) {\n      if (isNum(val)) {\n        val = val + 'px'\n      } else if (isArray(val) && isNum(val[0])) {\n        val = val.map(Units.px)\n      }\n    }\n    val = val instanceof Array ? val.join(', ') : val\n    transform += `${key}(${val}) `\n  }\n  return transform\n}\n\nfunction parseTransition(t: Frame) {\n  const duration = (t.duration || 0) / 1000\n  const delay = (t.delay || 0) / 1000\n  return [`${duration}s ${t.easing || 'ease-in-out'} ${delay}s`, t.property || 'transform,opacity']\n}\n\nfunction removeTransition(style: object) {\n  const nextStyle = { ...style }\n  delete nextStyle['WebkitTransition']\n  delete nextStyle['transition']\n  return nextStyle\n}\n\nconst needPrefix = isSet(document.body.style.webkitTransform)\n\nfunction frameToStyle(frame: Frame) {\n  const style = frame.style || {}\n  const [transition, transitionProperty] = parseTransition(frame)\n  const transform = parseTransform(frame)\n  if (needPrefix) {\n    style['WebkitTransition'] = transition\n    style['WebkitTransitionProperty'] = transitionProperty\n    style['WebkitTransform'] = transform\n    style['WebkitTransformOrigin'] = frame.transformOrigin\n    style['WebkitTransformStyle'] = frame.transformStyle\n  } else {\n    style['transitionProperty'] = transitionProperty\n    style['transition'] = transition\n    style['transform'] = transform\n    style['transform-origin'] = frame.transformOrigin\n    style['transform-style'] = frame.transformStyle\n  }\n  return style\n}\nfunction isFn(fn: any): fn is Function {\n  return typeof fn === 'function'\n}\n\nfunction runFrames(frames: Frame[], state: State, actions: Actions, onEnd?: Function, i: number = 0) {\n  if (i >= frames.length) {\n    actions._end()\n    return isFn(onEnd) && onEnd(frames)\n  }\n  const frame = frames[i]\n  requestAnimationFrame(() => {\n    actions._startFrame(frame)\n    const endTimer = setTimeout(\n      () => {\n        requestAnimationFrame(() => {\n          actions._endFrame(frame)\n        })\n        runFrames(frames, state, actions, onEnd, ++i)\n      },\n      frame.duration || 1,\n    )\n      // is it worth to use anti-pattern to reduce vdom render ?\n    state.timers.push(endTimer as any)\n  })\n  // state.timers.push(startTimer as any)\n}\nexport const actions = {\n  _startFrame: (frame: Frame) => (state: State) => {\n    const nextState: State = {\n      ...state,\n      style: frameToStyle(frame),\n      className: frame.className || '',\n    }\n    return [\n      nextState,\n      frame.onStart\n        ? Cmd.ofFn(frame.onStart, frame)\n        : Cmd.none\n    ]\n  },\n  _endFrame: (frame: Frame) => (state: State) => {\n    return [\n      state as State,\n      frame.onEnd\n        ? Cmd.ofFn(frame.onEnd, frame)\n        : []\n    ]\n  },\n  _end: () => (state: State) => ({\n    ...state,\n    animState: AnimState.end,\n  }),\n  start: (onEnd?: Function) => (state: State) => {\n    return [\n      init.apply(null, state._initArgs),\n      Cmd.ofSub<Actions>(actions => {\n        requestAnimationFrame(() =>\n          runFrames(state.frames, state, actions, onEnd))\n      }),\n    ]\n  },\n  run: (frames: Frame[]) => (state: State) => {\n    const nextState: State = {\n      ...state,\n      frames,\n    }\n    return [state, Cmd.ofSub<Actions>(actions => {\n      actions.start()\n    })]\n  },\n  reset: () => (state: State) => {\n    return [\n      init.apply(null, state._initArgs),\n      Cmd.ofFn(() => state.timers.forEach(timer => clearTimeout(timer as any)), void 0),\n    ]\n  },\n  end: () => (state: State) => {\n    if (state.frames.length === 0) return\n    const lastFrame = state.frames[state.frames.length - 1]\n    return [\n      { ...state,\n        animState: AnimState.end,\n        style: removeTransition(frameToStyle(lastFrame)),\n        timers: [],\n        className: lastFrame.className || '', },\n      Cmd.ofFn(() => state.timers.forEach(timer => (clearTimeout(timer as any))), void 0),\n    ]\n  }\n}\nexport type People = {\n  name: string\n  age: number\n}\nfunction isPeople(obj: any): obj is People {\n  let obj2 = obj\n  if (typeof obj2.name === 'function' && typeof obj2.age === 'number') {\n    return true\n  }\n  return false\n}\n\nexport type Actions = typeof actions\nexport enum AnimState {\n  running = 1,\n  end = 2,\n  ready = 3,\n}\nexport type State = {\n  animState: AnimState\n  style: object\n  className: string\n  timers: (number | NodeJS.Timer)[]\n  frames: Frame[]\n  _initArgs: any[]\n}\nexport type InitOptions = {\n  initFrame?: Frame\n}\nexport const init = (frames: Frame[] = [] as any, options: InitOptions = {}) => ({\n  animState: AnimState.ready,\n  style: options.initFrame ? frameToStyle(options.initFrame) : {},\n  className: '',\n  timers: [],\n  frames,\n  _initArgs: [frames, options]\n} as State)\n\nexport default {\n  init,\n  actions,\n  Units,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import {\n  ActionResult,\n  ActionState,\n  ActionCmdResult,\n  ActionType,\n  ActionsType,\n  UnknownArgsActionType,\n  NormalAction,\n} from './types'\nimport Cmd, { CmdType, Sub } from './cmd'\nimport { set, merge, setDeep, get, isFn, noop, isPojo, clone } from './utils'\nexport * from './helpers'\nexport * from './types'\nexport { Cmd, CmdType, Sub, ActionResult, noop, isFn, isPojo }\n\nexport type Init<S, A> = () => S | [S, CmdType<A>]\nexport type View<S, A> = (state: S, actions: A) => any\nexport type Subscribe<S, A> = (state: S) => CmdType<A>\nexport type OnUpdate<S, A> = <M>(\n  data: { prevAppState: S; nextAppState: S; msgData: M; action: string },\n) => void\nexport type OnUpdateStart<S, A> = <M>(data: { action: string }) => void\n\nexport interface AppProps<State, Actions> {\n  init: Init<State, Actions>\n  view: View<State, Actions>\n  actions: ActionsType<State, Actions>\n  subscribe?: Subscribe<State, Actions>\n  // middlewares: ((action: MyAction<any, State, Actions>, key: string, path: string[]) => MyAction<any, State, Actions>)[],\n  onRender?: (view: any) => void\n  onUpdate?: OnUpdate<State, Actions>\n  onUpdateStart?: OnUpdateStart<State, Actions>\n}\n/**\n * run action and return a normalized result ([State, CmdType<>]),\n * this is useful to write High-Order-Action, which take an action and return a wrapped action.\n * @param result result of `action(msg: Data)`\n * @param state\n * @param actions\n */\nexport function runAction<S, A, PS, PA>(\n  result: ActionResult<S, A> | ((state: S, actions: A) => ActionResult<S, A>),\n  state: S,\n  actions: A,\n  parentState?: PS,\n  parentActions?: PA,\n): ActionCmdResult<S, A> {\n  let rst: any = result\n  isFn(rst)\n    && (rst = rst(state, actions, parentState, parentActions))\n    && isFn(rst)\n    && (rst = rst(actions))\n  // action can be a function that return a promise or undefined(callback)\n  if (\n    rst === undefined ||\n    (rst.then && isFn(rst.then))\n  ) {\n    return [state, Cmd.none]\n  }\n  if (rst instanceof Array) {\n    return [rst[0] || state, rst[1] || Cmd.none]\n  }\n  return [rst, Cmd.none]\n}\n\nexport function withParents<S, A, PS, PA, A1>(\n  action: (a1: A1) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2>(\n  action: (a1: A1, a2: A2) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2, A3>(\n  action: (a1: A1, a2: A2, a3: A3) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2, a3: A3) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2, A3, A4>(\n  action: (a1: A1, a2: A2, a3: A3, a4: A4) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2, a3: A3, a4: A4) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\nexport function withParents<S, A, PS, PA, A1, A2, A3, A4, A5>(\n  action: (a1: A1, a2: A2, a3: A3, a4: A4, a5: A5) => (s: S, a: A) => any,\n  wrapper?: (\n    action: (a1: A1, a2: A2, a3: A3, a4: A4, a5: A5) => ActionCmdResult<S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n)\n/**\n * Wrap a child action with parentState, parentActions.\n * @param action The action to be wrapped\n * @param wrapper\n * @param parentState\n * @param parentActions\n */\nexport function withParents<S, A, PS, PA>(\n  action: UnknownArgsActionType<S, A>,\n  wrapper?: (\n    action: NormalAction<any, S, A>,\n    parentState: PS,\n    parentActions: PA,\n    state: S,\n    actions: A,\n  ) => ActionResult<S, A>,\n  parentState?: PS,\n  parentActions?: PA,\n): any {\n  if (!wrapper) {\n    return action\n  }\n  const wrapped = (state: S, actions: A, parentState: PS, parentActions: PA) => {\n    const nactions = (...args) => runAction(action(...args), state, actions)\n    return wrapper(nactions, parentState, parentActions, state, actions)\n  }\n  return wrapped\n}\n/**\n * @deprecated Deprecated for `withParents`\n */\nexport const wrapActions = withParents\nexport interface Context<State, Actions, RenderReturn> {\n  actions: Actions\n  state: State\n  init: Init<State, Actions>\n  view: View<State, Actions>\n  subscribe?: Subscribe<State, Actions>\n  onRender?: ((view: any) => RenderReturn)\n  onUpdate?: OnUpdate<State, Actions>\n  onUpdateStart?: OnUpdateStart<State, Actions>\n  render(state?: State): RenderReturn\n}\nexport type App<State, Actions> = (props: AppProps<State, Actions>) => Context<State, Actions, any>\n\nexport function app<State, Actions>(props: AppProps<State, Actions>): Context<State, Actions, any> {\n  // const appEvents = props.events || {}\n  const appActions = {} as Actions\n  const appSubscribe = props.subscribe || (_ => Cmd.none)\n  const render = props.onRender || noop\n  // const appMiddlewares = props.middlewares || []\n  let [appState, cmd] = runAction(props.init(), (void 0 as any) as State, appActions) as [\n    State,\n    CmdType<Actions>\n  ]\n  init(appState, appActions, props.actions, [])\n  cmd.forEach(sub => sub(appActions))\n  appRender(appState)\n  appSubscribe(appState).forEach(sub => sub(appActions))\n\n  return {\n    // getter should before spread operator,\n    // otherwise it would be copied and becomes normal property\n    get state() {\n      return appState\n    },\n    ...props,\n    actions: appActions,\n    render: appRender,\n  }\n\n  function appRender(state = appState) {\n    if (state !== appState) {\n      appState = state\n    }\n    let view = props.view(appState, appActions)\n    if (isFn(view)) {\n      view = view(appActions)\n    }\n    return render(view)\n  }\n\n  function init(\n    state,\n    actions,\n    from: ActionsType<State, Actions> | ActionType<any, State, Actions>,\n    path: string[],\n  ) {\n    for (const key in from) {\n      if (/^_/.test(key)) {\n        continue\n      }\n      const subFrom = from[key]\n      if (isFn(subFrom)) {\n        actions[key] = function(...msgData) {\n          state = get(path, appState)\n          // action = appMiddlewares.reduce((action, fn) => fn(action, key, path), action)\n          let [nextState, nextAppState] = [state, appState]\n          let cmd = Cmd.none\n          let [parentState, parentActions] = [undefined, undefined]\n          const actionResult = subFrom(...msgData)\n          if (isFn(actionResult) && actionResult.length > 2) {\n            const pPath = path.slice(0, -1)\n            parentActions = get(pPath, appActions)\n            parentState = get(pPath, appState)\n          }\n          [nextState, cmd] = runAction(\n            actionResult,\n            state,\n            actions,\n            parentState,\n            parentActions,\n          )\n\n          if (props.onUpdate) {\n            nextAppState = setDeep(path, merge(state, nextState), appState)\n            props.onUpdate({\n              prevAppState: appState,\n              nextAppState,\n              msgData: subFrom.length ? msgData : [],\n              action: path.concat(key).join('.'),\n            })\n          }\n\n          if (nextState !== state) {\n            appState =\n              nextAppState !== appState\n                ? nextAppState\n                : setDeep(path, merge(state, nextState), appState)\n            appRender(appState)\n          }\n          cmd.forEach(sub => sub(actions))\n        }\n      } else if (typeof subFrom === 'object' && subFrom) {\n        init(\n          state[key] || (state[key] = {}),\n          (actions[key] = clone(subFrom)),\n          subFrom,\n          path.concat(key),\n        )\n      }\n    }\n  }\n}\n\nexport default app\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/hydux/src/index.ts","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = 4\n// module chunks = 0","import * as Cmd from './cmd'\nimport { ActionCmdResult } from './index'\n\nexport type Dt<T extends string, D = undefined> = {\n  tag: T,\n  data: D\n} & { __tsTag: 'DateType' }\n\n/**\n * ADT Helper for TS\n * e.g.\n * ```ts\n * type Msg =\n * | Dt<'fetchBook', number>\n * | Dt<'updateBook', Book>\n *\n * let msg = dt('fetchBook', 1)\n * switch(msg.tag) {\n *   case 'fetchBook':\n *      //...\n *      break\n *   case 'updateBook':\n *      //...\n *      break\n *   default:\n *      never(msg.tag) // incomplete check from TS\n *      break\n * }\n * ```\n */\nexport function dt<T extends string, D = undefined>(tag: T, data?: D) {\n  return { tag, data } as Dt<T, D>\n}\n\nexport const never = (f: never) => f\n\nexport const mkInit = <S, A>(state: S, cmd: Cmd.CmdType<A> = Cmd.none): () => ActionCmdResult<S, A> => () => [state, cmd]\n\nexport type Fn1<T1, R> = (a1: T1) => R\n\nexport function compose<T1, T2, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, T7, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, T7>,\n  fn7: Fn1<T7, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, T7, T8, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, T7>,\n  fn7: Fn1<T7, T8>,\n  fn8: Fn1<T8, R>,\n): Fn1<T1, R>\nexport function compose<T1, T2, T3, T4, T5, T6, T7, T8, T9, R>(\n  fn1: Fn1<T1, T2>,\n  fn2: Fn1<T2, T3>,\n  fn3: Fn1<T3, T4>,\n  fn4: Fn1<T4, T5>,\n  fn5: Fn1<T5, T6>,\n  fn6: Fn1<T6, T7>,\n  fn7: Fn1<T7, T8>,\n  fn8: Fn1<T8, T9>,\n  fn9: Fn1<T9, R>,\n): Fn1<T1, R>\nexport function compose<R>(...fns: Function[]): Fn1<any, R> {\n  return arg =>\n    fns.reduce(\n      (arg, fn) => fn(arg),\n      arg,\n    )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/hydux/src/helpers.ts"],"sourceRoot":""}